<!--begin::Topbar-->


<!-- <ng-container *ngIf="extrasNotificationsDisplay">
  <ng-container *ngIf="extrasNotificationsLayout === 'offcanvas'">
    begin::Notifications
    <div class="topbar-item">
      <div class="btn btn-icon btn-icon-mobile btn-clean btn-lg mr-1 pulse pulse-primary"
        id="kt_quick_notifications_toggle">
        <span [inlineSVG]="'./assets/media/svg/icons/Code/Compiling.svg'" cacheSVG="true"
          class="svg-icon svg-icon-xl svg-icon-primary"></span>
        <span class="pulse-ring"></span>
      </div>
    </div>
    end::Notifications
  </ng-container>

  <ng-container *ngIf="extrasNotificationsLayout === 'dropdown'">
    <div class="dropdown" ngbDropdown placement="bottom">
      <div class="topbar-item" data-toggle="dropdown" data-offset="10px,0px" ngbDropdownToggle>
        <div class="btn btn-icon btn-clean btn-dropdown btn-lg mr-1 pulse pulse-primary">
          <span [inlineSVG]="'./assets/media/svg/icons/Code/Compiling.svg'" cacheSVG="true"
            class="svg-icon svg-icon-xl svg-icon-primary"></span>
          <span class="pulse-ring"></span>
        </div>
      </div>

      <div ngbDropdownMenu class="dropdown-menu p-0 m-0 dropdown-menu-anim-up dropdown-menu-lg">
        <form>
          <app-notifications-dropdown-inner></app-notifications-dropdown-inner>
        </form>
      </div>
    </div>
  </ng-container>
</ng-container> -->



<ng-container *ngIf="extrasCartDisplay">

  <ng-container *ngIf="extrasCartLayout === 'dropdown'">
    <!--begin::Cart-->
    <div class="dropdown" ngbDropdown placement="bottom">
      <!--begin::Toggle-->
      <div class="topbar-item" data-toggle="dropdown" data-offset="10px,0px" ngbDropdownToggle>
        <div  matBadge="{{countorder}}" matBadgeColor="warn" class="btn btn-icon btn-clean btn-dropdown btn-lg mr-1 pulse pulse-primary">
          <span [inlineSVG]="'./assets/media/svg/icons/Shopping/Cart3.svg'" cacheSVG="true"
          class="svg-icon svg-icon-xl svg-icon-primary"></span>
          <span class="pulse-ring"></span>
        </div>
        <!-- <div class="btn btn-icon btn-clean btn-dropdown btn-lg mr-1">
          <span [inlineSVG]="'./assets/media/svg/icons/Shopping/Cart3.svg'" cacheSVG="true"
            class="svg-icon svg-icon-xl svg-icon-primary"></span>
        </div> -->
      </div>
      <!--end::Toggle-->
      <!--begin::Dropdown-->
      <div ngbDropdownMenu class="dropdown-menu p-0 m-0 dropdown-menu-xl dropdown-menu-anim-up">
        <form>
          <ng-container *ngIf="extrasCartDropdownStyle === 'light'">
            <!--begin::Header-->
            <div class="d-flex align-items-center p-10 rounded-top bg-light">
              <span class="btn btn-md btn-icon bg-light-success mr-4">
                <i class="flaticon2-shopping-cart-1 text-success"></i>
              </span>
              <h4 class="flex-grow-1 m-0 mr-3">My Cart</h4>
              <button type="button" class="btn btn-success btn-sm">2 Items</button>
            </div>
            <!--end::Header-->
          </ng-container>
          
          <ng-container *ngIf="extrasCartDropdownStyle === 'dark'">
            <!--begin::Header-->
            <div   routerLink="/Home/Cart"
              class="d-flex align-items-center py-10 px-8 bgi-size-cover bgi-no-repeat rounded-top"
              style="background-image: url('./assets/media/misc/bg-1.jpg');cursor: pointer;"
            >
              <span class="btn btn-md btn-icon bg-white-o-15 mr-4">
                <i class="flaticon2-shopping-cart-1 text-success"></i>
              </span>
              <h4 class="text-white m-0 flex-grow-1 mr-3">My Cart</h4>
              <button type="button" class="btn btn-success btn-sm">{{listOrder.length}} sản phẩm</button>
            </div>
            <!--end::Header-->
          </ng-container>
          
          <!--begin::Scroll-->
          <perfect-scrollbar
          [perfectScrollbar]="{wheelPropagation: false}"
            class="scroll scroll-push"
            style=" max-height: 250px;height: 250px;"
          >
          <div *ngFor="let item of listOrder">

         
            <!--begin::Item-->
            <div class="d-flex align-items-center justify-content-between p-8">
              <div class="d-flex flex-column mr-2">
                <a
                  href="javascritp:;"
                  class="font-weight-bold text-dark-75 font-size-lg text-hover-primary"
                >
                  {{item.product_name}}
                </a>
                <span class="text-muted">
                  Màu:{{item.color}}, Size: {{item.Size}}
                </span>
                <div class="d-flex align-items-center mt-2">
                  <span class="font-weight-bold mr-1 text-dark-75 font-size-lg"
                    >{{item.DonGia |number}} đ</span
                  >
                  <span class="text-muted mr-1">Số lượng:</span>
                  <span class="font-weight-bold mr-2 text-dark-75 font-size-lg">{{item.soluong}}</span>
                  <!-- <a   href="javascript:;" class="btn btn-xs btn-light-success btn-icon mr-2"
                    ><i class="ki ki-minus icon-xs"></i
                  ></a>
                  <a   href="javascript:;" class="btn btn-xs btn-light-success btn-icon"
                    ><i class="ki ki-plus icon-xs"></i
                  ></a> -->
                </div>
              </div>
              <div class="symbol symbol-70 flex-shrink-0">
                <img style="width: 60px;" src="{{item.Img}}" title="" alt="" />
              </div>
            </div>
            <!--end::Item-->
          
            <!--begin::Separator-->
            <div class="separator separator-solid"></div>
            <!--end::Separator-->
          </div>
            <!--begin::Item-->
          
            <!--end::Item-->
          
            <!--begin::Separator-->
            <!--end::Separator-->
          
            <!--end::Item-->
          </perfect-scrollbar>
          <!--end::Scroll-->
          
          <!--begin::Summary-->
          <div class="p-8" style="    font-size: 20px;">
         
            <div class="d-flex align-items-center justify-content-between mb-7">
              <span class="font-weight-bold text-muted font-size-sm mr-2">Tổng tiền:</span>
              <span class="font-weight-bolder text-primary text-right">{{tongtien|number}} VNĐ </span>
            </div>
            <div class="text-right">
              <button  style="margin-right: 40px;" (click)="thanhtoan()" routerLink="/Home/GioHang" type="button" class="btn btn-success text-weight-bold">
                Xem Giỏ Hàng
               </button>
              <button (click)="thanhtoan()" routerLink="/Home/Pay" type="button" class="btn btn-primary text-weight-bold">
               Thanh toán
              </button>
             
            </div>
          </div>
          <!--end::Summary-->
          
          <!-- <app-cart-dropdown-inner ></app-cart-dropdown-inner> -->
        </form>
      </div>
      <!--end::Dropdown-->
    </div>
    <!--end::Cart-->
  </ng-container>
</ng-container>

<ng-container *ngIf="extrasQuickPanelDisplay">
  <!--begin::Quick panel-->
  <div class="topbar-item" style="margin-right: 20px;" >
    <div matBadge="{{slthongbao}}" matBadgeOverlap="false" class="btn btn-icon btn-clean btn-lg mr-1" id="kt_quick_panel_toggle">
      <mat-icon  style="color: #007bff;
      font-size: 24px !important;">notifications_active</mat-icon>
      <!-- <span [inlineSVG]="'./assets/media/svg/icons/Layout/Layout-4-blocks.svg'" cacheSVG="true"
        class="svg-icon svg-icon-xl svg-icon-primary"></span> -->
    </div>
  </div>
  <!--end::Quick panel-->
</ng-container>

<ng-container *ngIf="extrasLanguagesDisplay">
  <app-language-selector style="margin-top: 10px;"></app-language-selector>
</ng-container>

<ng-container *ngIf="extrasUserDisplay">
  <ng-container *ngIf="extrasUserLayout === 'offcanvas'">
    <ng-container *ngIf="User">
      <!--begin::User-->
      <div class="topbar-item">
        <div class="btn btn-icon btn-icon-mobile w-auto btn-clean d-flex align-items-center btn-lg px-2"
          id="kt_quick_user_toggle">
          <span class="text-muted font-weight-bold font-size-base d-none d-md-inline mr-1">Hi,</span>
          <span
            class="text-dark-50 font-weight-bolder font-size-base d-none d-md-inline mr-3">{{ User[0].full_name }}</span>
          <span class="symbol symbol-lg-35 symbol-25 symbol-light-success">
            <span class="symbol-label font-size-h5 font-weight-bold">{{
              User[0].full_name.slice(0,1)
            }}</span>
          </span>
        </div>
      </div>
      <!--end::User-->
    </ng-container>
  </ng-container>

  <ng-container *ngIf="extrasUserLayout === 'dropdown'">
    <!--begin::User-->
    <ng-container *ngIf="user$ | async as _user">
      <div class="dropdown" ngbDropdown placement="bottom-right">
        <div class="topbar-item" data-toggle="dropdown" data-offset="0px,0px" ngbDropdownToggle>
          <div class="btn btn-icon w-auto btn-clean d-flex align-items-center btn-lg px-2">
            <span class="text-muted font-weight-bold font-size-base d-none d-md-inline mr-1">Hi,</span>
            <span
              class="text-dark-50 font-weight-bolder font-size-base d-none d-md-inline mr-3">{{ _user.fullname }}</span>
            <span class="symbol symbol-35 symbol-light-success">
              <span class="symbol-label font-size-h5 font-weight-bold">{{
                _user.fullname | firstLetter
              }}</span>
            </span>
          </div>
        </div>
        <!--end::Toggle-->
        <!--begin::Dropdown-->
        <div ngbDropdownMenu
          class="dropdown-menu p-0 m-0 dropdown-menu-right dropdown-menu-anim-up dropdown-menu-lg p-0">
          <app-user-dropdown-inner></app-user-dropdown-inner>
        </div>
      </div>
      <!--end::Dropdown-->
    </ng-container>
    <!--end::User-->
  </ng-container>
</ng-container>

<!--end::Topbar-->